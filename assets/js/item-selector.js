// items catagorie[{item}]
const items = {
  
    "Entree / Woonkamer": [
      {
      id: 1,
      iconPath: '001-sofa.png',
      volume: 2.0,
      name: "3-zitsbank"
      },
      {
      id: 2,
      iconPath: '002-couch.png',
      volume: 1.5,
      name: "2-zitsbank"
      },
      {
      id: 3,
      iconPath: '003-couch-1.png',
      volume: 0.5,
      name: "fauteuil"
      },
      {
      id: 4,
      iconPath: '016-mirror.png',
      volume: 3.0,
      name: "Grote spiegel"
      },
      {
      id: 5,
      iconPath: '005-dresser.png',
      volume: 1.5,
      name: "dressoir"
      },
      {
      id: 6,
      iconPath: '007-tv-table.png',
      volume: 0.7,
      name: "tv-kast"
      },
      {
      id: 7,
      iconPath: '006-television.png',
      volume: 0.3,
      name: "tv"
      },
      {
      id: 8,
      iconPath: '011-closet-1.png',
      volume: 0.5,
      name: "kastje"
      },
      {
      id: 9,
      iconPath: '010-fireplace.png',
      volume: 0.3,
      name: "stereomeubel-app."
      },
      {
      id: 10,
      iconPath: '021-street-lamp.png',
      volume: 0.3,
      name: "Staande lamp"
      },
      {
      id: 11,
      iconPath: '008-table.png',
      volume: 0.1,
      name: "bijzettafels"
      },
      {
      id: 12,
      iconPath: '012-wooden.png',
      volume: 0.5,
      name: "Hocker"
      },
      {
      id: 13,
      iconPath: '019-prayer.png',
      volume: 0.2,
      name: "Tapijt (p/rol)"
      },
      {
      id: 14,
      iconPath: 'coat-rack.png',
      volume: 0.2,
      name: "Kapstok"
      },
      {
      id: 15,
      iconPath: '014-picture.png',
      volume: 0.2,
      name: "schilderijen (p/doos)"
      },
      {
      id: 16,
      iconPath: 'workplace.png',
      volume: 1.5,
      name: "bureau + stoel"
      },
      {
      id: 17,
      iconPath: 'printer.png',
      volume: 0.3,
      name: "Comp., Monitor + printer"
      },
      {
      id: 18,
      iconPath: '020-package.png',
      volume: 0.1,
      name: "verhuisdozen"
      },
      {
      id: 19,
      iconPath: '001-book.png',
      volume: 0.1,
      name: "boeken per meter"
      },
      {
      id: 20,
      iconPath: '008-box.png',
      volume: 1.0,
      name: "Diversen p/ m3"
      }
      ],
  
    "Eetkamer": [
      {
      id: 21,
      iconPath: '005-dining-table.png',
      volume: 1.0,
      name: "Eettafel"
      },
      {
      id: 22,
      iconPath: '004-chair.png',
      volume: 0.2,
      name: "stoelen"
      },
      {
      id: 23,
      iconPath: '006-small-table.png',
      volume: 0.2,
      name: "klein meubilair"
      },
      {
      id: 24,
      iconPath: '003-closet.png',
      volume: 1.0,
      name: "kast"
      },
      {
      id: 25,
      iconPath: '007-cupboard.png',
      volume: 0.5,
      name: "kastje"
      },
      {
      id:26,
      iconPath: '002-package.png',
      volume: 0.1,
      name: "verhuisdozen"
      },
      {
      id: 27,
      iconPath: '001-book.png',
      volume: 0.1,
      name: "boeken per meter"
      },
      {
      id: 28,
      iconPath: '008-box.png',
      volume: 1.0,
      name: "Diversen p/ m3"
      }
    ],
  
    "Keuken": [
      {
      id: 31,
      iconPath: '001-gas-stove.png',
      volume: 0.4,
      name: "fornuis"
      },
      {
      id: 32,
      iconPath: '002-dishwasher.png',
      volume: 0.5,
      name: "vaatwasmachine"
      },
      {
      id: 33,
      iconPath: '003-refrigerator.png',
      volume: 0.5,
      name: "koelkast"
      },
      {
      id: 34,
      iconPath: '004-freezer.png',
      volume: 1.0,
      name: "koel/vriescomb."
      },
      {
      id: 35,
      iconPath: '005-microwave.png',
      volume: 0.2,
      name: "Magnetron"
      },
      {
      id: 36,
      iconPath: '006-closet.png',
      volume: 1.0,
      name: "Kast"
      },
      {
      id: 37,
      iconPath: '006-closet.png',
      volume: 0.5,
      name: "kastje"
      },
      {
      id: 38,
      iconPath: '007-chair.png',
      volume: 1.5,
      name: "eethoek"
      },
      {
      id: 39,
      iconPath: '002-package.png',
      volume: 0.1,
      name: "verhuisdozen"
      },
      {
      id: 301,
      iconPath: '008-box.png',
      volume: 1.0,
      name: "Diversen p/ m3"
      }
      ],
  
      "Slaapkamer 1": [
        {
          id: 50,
          iconPath: '001-single-bed.png',
          volume: 0.3,
          name: "1-persoonsbed"
        },
        {
          id: 51,
          iconPath: '002-double-bed.png',
          volume: 0.7,
          name: "2 persoons bed"
        },
        {
          id: 52,
          iconPath: '003-air-mattress.png',
          volume: 0.4,
          name: "2 persoons matras"
        },
        {
          id: 53,
          iconPath: '004-drawers.png',
          volume: 0.3,
          name: "ladenkast"
        },
        // {
        //   id: 54,
        //   iconPath: '005-blanket.png',
        //   volume: 0.2,
        //   name: "bedkast / stoel"
        // },
        {
          id: 55,
          iconPath: '004-closet.png',
          volume: 0.5,
          name: "linnenkast 2-drs"
        },
        {
          id: 56,
          iconPath: '006-wardrobe.png',
          volume: 0.8,
          name: "linnenkast 3-drs"
        },
        {
          id: 57,
          iconPath: '007-dressing-table.png',
          volume: 0.5,
          name: "kaptafel"
        },
        {
          id: 58,
          iconPath: '008-home-theater.png',
          volume: 0.3,
          name: "tv / audio"
        },
        {
          id: 59,
          iconPath: '002-package.png',
          volume: 0.1,
          name: "verhuisdozen"
        },
        {
          id: 60,
          iconPath: '009-storage-box.png',
          volume: 0.1,
          name: "speelgoed box"
        },
        {
          id: 61,
          iconPath: '010-suitcase.png',
          volume: 0.2,
          name: "koffers met kleren"
        },
        {
          id: 62,
          iconPath: '008-box.png',
          volume: 1.0,
          name: "Diversen p/ m3"
        }
      ],
  
      "Slaapkamer 2": [
        {
          id: 60,
          iconPath: '004-drawers.png',
          volume: 0.3,
          name: "Commode"
        },
        {
          id: 61,
          iconPath: '002-double-bed.png',
          volume: 0.7,
          name: "Ledikant"
        },
        {
          id: 62,
          iconPath: '003-closet.png',
          volume: 0.4,
          name: "Ombouw"
        },
        {
          id: 63,
          iconPath: '004-closet.png',
          volume: 0.3,
          name: "Ladenkast"
        },
        {
          id: 64,
          iconPath: '004-chair.png',
          volume: 0.2,
          name: "Bedkast / Stoel"
        },
        {
          id: 65,
          iconPath: '006-wardrobe.png',
          volume: 0.5,
          name: "Linnenkast 2-drs"
        },
        {
          id: 66,
          iconPath: '007-dressing-table.png',
          volume: 0.5,
          name: "Kaptafel"
        },
        {
          id: 67,
          iconPath: '008-home-theater.png',
          volume: 0.3,
          name: "TV / Audio"
        },
        {
          id: 68,
          iconPath: '004-chair.png',
          volume: 1.5,
          name: "Bureaustoel"
        },
        {
          id: 69,
          iconPath: 'printer.png',
          volume: 0.3,
          name: "Comp., Monitor + Printer"
        },
        {
          id: 70,
          iconPath: '002-package.png',
          volume: 0.1,
          name: "Verhuisdozen"
        },
        {
          id: 71,
          iconPath: '001-book.png',
          volume: 0.1,
          name: "Boeken per meter"
        },
        {
          id: 72,
          iconPath: '008-box.png',
          volume: 0.5,
          name: "Garderobedoos"
        },
        {
          id: 73,
          iconPath: '008-table.png',
          volume: 1.0,
          name: "Diversen p/ m3"
        }
      ],
  
      "Badkamer": [
          {
            id: 80,
            iconPath: '004-washing-machine.png',
            volume: 0.5,
            name: "Wasmachine"
          },
          {
            id: 81,
            iconPath: '005-tumble-dryer.png',
            volume: 0.5,
            name: "Droogtrommel"
          },
          {
            id: 82,
            iconPath: '004-freezer.png',
            volume: 0.5,
            name: "Vriezer tafel"
          },
          {
            id: 83,
            iconPath: '002-package.png',
            volume: 0.1,
            name: "Verhuisdozen"
          }
        ],
        "Studeerkamer": [
          {
            id: 84,
            iconPath: '006-workplace.png',
            volume: 1.5,
            name: "Bureau + Stoel"
          },
          {
            id: 85,
            iconPath: '009-storage-box.png',
            volume: 0.3,
            name: "Comp., Monitor + Printer"
          },
          {
            id: 86,
            iconPath: '007-bookcase.png',
            volume: 0.5,
            name: "Boekenkast"
          },
          {
            id: 87,
            iconPath: '002-package.png',
            volume: 0.1,
            name: "Verhuisdozen"
          },
          {
            id: 88,
            iconPath: '001-book.png',
            volume: 0.1,
            name: "Boeken per meter"
          },
          {
            id: 89,
            iconPath: '008-table.png',
            volume: 1.0,
            name: "Diversen p/ m3"
          }
        ],
        "Slaapkamer 3": [
          {
            id: 90,
            iconPath: '001-crib.png',
            volume: 0.3,
            name: "Peuter bed"
          },
          {
            id: 91,
            iconPath: '003-air-mattress.png',
            volume: 0.4,
            name: "Matras"
          },
          {
            id: 92,
            iconPath: '004-drawers.png',
            volume: 0.3,
            name: "Ladenkast"
          },
          {
            id: 93,
            iconPath: '004-chair.png',
            volume: 0.2,
            name: "Bedkast / Stoel"
          },
          {
            id: 94,
            iconPath: '006-wardrobe.png',
            volume: 0.5,
            name: "Linnenkast"
          },
          {
            id: 95,
            iconPath: '006-television.png',
            volume: 0.3,
            name: "TV / Audio"
          },
          {
            id: 96,
            iconPath: '006-workplace.png',
            volume: 1.5,
            name: "Bureau + Stoel"
          },
          {
            id: 97,
            iconPath: '009-storage-box.png',
            volume: 0.3,
            name: "Comp., Monitor + Printer"
          },
          {
            id: 98,
            iconPath: '002-package.png',
            volume: 0.1,
            name: "Verhuisdozen"
          },
          {
            id: 99,
            iconPath: '001-book.png',
            volume: 0.1,
            name: "Boeken per meter"
          },
          {
            id: 100,
            iconPath: '008-box.png',
            volume: 0.5,
            name: "Garderobedoos"
          },
          {
            id: 101,
            iconPath: '008-table.png',
            volume: 1.0,
            name: "Diversen p/ m3"
          }
        ],
        "Slaapkamer 4": [
          {
            id: 102,
            iconPath: '001-single-bed.png',
            volume: 0.3,
            name: "1-persoonsbed"
          },
          {
            id: 103,
            iconPath: '002-double-bed.png',
            volume: 0.4,
            name: "Ombouw"
          },
          {
            id: 104,
            iconPath: '004-drawers.png',
            volume: 0.3,
            name: "Ladenkast"
          },
          {
            id: 105,
            iconPath: '004-chair.png',
            volume: 0.2,
            name: "Bedkast / Stoel"
          },
          {
            id: 106,
            iconPath: '006-wardrobe.png',
            volume: 0.5,
            name: "Linnenkast"
          },
          {
            id: 107,
            iconPath: '006-television.png',
            volume: 0.3,
            name: "TV / Audio"
          },
          {
            id: 108,
            iconPath: '006-workplace.png',
            volume: 1.5,
            name: "Bureau + Stoel"
          },
          {
            id: 109,
            iconPath: '009-storage-box.png',
            volume: 0.3,
            name: "Comp., Monitor + Printer"
          },
          {
            id: 110,
            iconPath: '002-package.png',
            volume: 0.1,
            name: "Verhuisdozen"
          },
          {
            id: 111,
            iconPath: '001-book.png',
            volume: 0.1,
            name: "Boeken per meter"
          },
          {
            id: 112,
            iconPath: '008-box.png',
            volume: 0.5,
            name: "Garderobedoos"
          },
          {
            id: 113,
            iconPath: '008-table.png',
            volume: 1.0,
            name: "Diversen p/ m3"
          }
        ],
        "Zolder": [
          {
            id: 114,
            iconPath: '002-couch.png',
            volume: 0.5,
            name: "Kast"
          },
          {
            id: 115,
            iconPath: '007-bookcase.png',
            volume: 0.5,
            name: "Ikea vakkenkast"
          },
          {
            id: 116,
            iconPath: '002-package.png',
            volume: 0.1,
            name: "Verhuisdozen"
          },
          {
            id: 117,
            iconPath: '009-storage-box.png',
            volume: 0.1,
            name: "Billys"
          },
          {
            id: 118,
            iconPath: '008-table.png',
            volume: 1.0,
            name: "Diversen p/ m3"
          }
        ],
        "Schuur, garage, tuin": [
          {
            id: 119,
            iconPath: '007-cupboard.png',
            volume: 1.0,
            name: "Stellingkasten"
          },
          {
            id: 120,
            iconPath: '001-single-bed.png',
            volume: 1.0,
            name: "Kast"
          },
          {
            id: 121,
            iconPath: '011-tool-box.png',
            volume: 0.2,
            name: "Gereedschap"
          },
          {
            id: 122,
            iconPath: '012-track-bicycle.png',
            volume: 0.5,
            name: "Fiets"
          },
          {
            id: 123,
            iconPath: '013-bicycle.png',
            volume: 0.3,
            name: "Kinder fiets"
          },
          {
            id: 124,
            iconPath: '014-surfboard.png',
            volume: 1.0,
            name: "Surfplank"
          },
          {
            id: 125,
            iconPath: '015-wheelbarrow.png',
            volume: 0.5,
            name: "Kruiwagen"
          },
          {
            id: 126,
            iconPath: '015-potted-plant.png',
            volume: 1.5,
            name: "Tuinameubl."
          },
          {
            id: 127,
            iconPath: '017-flower-in-a-pot.png',
            volume: 0.2,
            name: "Planten in potten"
          },
          {
            id: 128,
            iconPath: '018-logs.png',
            volume: 0.5,
            name: "Hout"
          },
          {
            id: 129,
            iconPath: '002-package.png',
            volume: 0.1,
            name: "Verhuisdozen"
          },
          {
            id: 130,
            iconPath: '008-table.png',
            volume: 1.0,
            name: "Diversen p/ m3"
          }
        ],
        "Bijzondere stukken": [
          {
            id: 131,
            iconPath: '019-piano.png',
            volume: 1.0,
            name: "Electrische piano"
          },
          {
            id: 132,
            iconPath: 'hangstoel.png',
            volume: 1.0,
            name: "Hangstoel"
          },
          {
            id: 133,
            iconPath: '021-stationary-bike.png',
            volume: 2.0,
            name: "Gym kamer"
          },
          {
            id: 134,
            iconPath: '022-wardrobe-1.png',
            volume: 1.0,
            name: "Brandw. kast"
          },
          {
            id: 135,
            iconPath: '023-safe.png',
            volume: 0.5,
            name: "Kluis < 50 kilo"
          },
          {
            id: 136,
            iconPath: '023-safe.png',
            volume: 1.0,
            name: "Kluis > 50 kilo"
          },
          {
            id: 137,
            iconPath: '024-liberty.png',
            volume: 0.5,
            name: "Tuinbeelden"
          },
          {
            id: 138,
            iconPath: '002-package.png',
            volume: 0.1,
            name: "Verhuisdozen"
          },
          {
            id: 139,
            iconPath: '008-table.png',
            volume: 1.0,
            name: "Diversen p/ m3"
          }
        ]
    };
  
    
    const contentContainer = document.getElementById('content');
    const summaryContainer = document.getElementById('summary');
    let selectedItems = [];
    
  
    function renderItems(category) {
      contentContainer.innerHTML = '';
      const itemsList = items[category];
      /* <div class="item-container">
        <img src="./img/'iconpath'" > <img/>
          <div class="item-info">
            <div class="item-name">name</div>
            <i>volume: <i/>
            <div>
              <button>+</button>
              <div class="item-quantity">0</div>
              <button>-</button>
            <div/>
         </div>
      </div> */
      
      itemsList.forEach((item) => {
        const itemContainer = document.createElement('div');
        itemContainer.classList.add('item-container');
  
        itemContainer.setAttribute("data-item-id", item.id); // Voeg de ID toe als data-attribuut
  
        const itemIcon = document.createElement('img');
        // add class item image
        itemIcon.classList.add('item-image');
        itemIcon.src = `../assets/Items-Images/${item.iconPath}`;
        itemContainer.appendChild(itemIcon);
  
  
        const itemInfo = document.createElement('div');
        itemInfo.classList.add('item-info');
        const itemName = document.createElement('div');
        itemName.classList.add('item-name');
        itemName.textContent = item.name;
  
        const itemVolume = document.createElement('i');
        itemVolume.textContent = ` ${item.volume}m³`;
        itemVolume.classList.add('item-volume');
  
        const itemQuantity = document.createElement('div');
        itemQuantity.classList.add('item-quantity');
        itemQuantity.textContent = getItemQuantity(item);
        const itemButtons = document.createElement('div');
        itemButtons.classList.add('item-buttons');
        const increaseButton = createButton('+', () => increaseItemQuantity(item));
        const decreaseButton = createButton('-', () => decreaseItemQuantity(item));
        itemButtons.appendChild(increaseButton);
        itemButtons.appendChild(itemQuantity);
        itemButtons.appendChild(decreaseButton);
        itemInfo.appendChild(itemName);
        itemInfo.appendChild(itemVolume);
        itemInfo.appendChild(itemButtons);
        itemContainer.appendChild(itemIcon);
        itemContainer.appendChild(itemInfo);
        contentContainer.appendChild(itemContainer);
      });
      
      updateSummary();
    }
  
  
  
    
    // Create a button element
    function createButton(text, onClick) {
      const button = document.createElement('a');
      button.textContent = text;
      button.addEventListener('click', onClick);
      return button;
    }
    
    // Get the quantity of a selected item
    function getItemQuantity(item) {
      const selectedItem = selectedItems.find((selectedItem) => selectedItem.item.id === item.id);
      return selectedItem ? selectedItem.quantity : 0;
    }
    
    // Increase the quantity of a selected item
    function increaseItemQuantity(item) {
      const selectedItem = selectedItems.find((selectedItem) => selectedItem.item.id === item.id);
      if (selectedItem) {
        selectedItem.quantity++;
      } else {
        selectedItems.push({ item: item, quantity: 1 });
      }
      updateSummary();
      renderItems(getSelectedCategory());
      // change item bg
    }
    
    // Decrease the quantity of a selected item
    function decreaseItemQuantity(item) {
      const selectedItem = selectedItems.find((selectedItem) => selectedItem.item.id === item.id);
      if (selectedItem) {
        selectedItem.quantity--;
        if (selectedItem.quantity === 0) {
          selectedItems = selectedItems.filter((selectedItem) => selectedItem.item.name !== item.name);
        }
        updateSummary();
        renderItems(getSelectedCategory());
      }

    }
    
    // Get the currently selected category
    function getSelectedCategory() {
      const categoryButtons = document.querySelectorAll('.category');
      for (const button of categoryButtons) {
        if (button.classList.contains('active')) {
          return button.dataset.category;
        }
      }
      return '';
    }
  
    // Update the summary section with selected items' information
    function updateSummary() {
      console.log(selectedItems)
      summaryContainer.innerHTML = '';
      const amountItemsSelectedTotal = 
        selectedItems.reduce((total, selectedItem) => total + selectedItem.quantity, 0);
    
      const summaryTitle = document.createElement('h2');
      summaryTitle.classList.add('summary-title');
      summaryTitle.textContent = `Selected Items ${amountItemsSelectedTotal}`;
      summaryContainer.appendChild(summaryTitle);
    
      if (selectedItems.length === 0) {
        const emptyMessage = document.createElement('p');
        emptyMessage.textContent = 'No items selected.';
        summaryContainer.appendChild(emptyMessage);
      } else {
        const itemList = document.createElement('ul');
    
        selectedItems.forEach((selectedItem) => {
          const listItem = document.createElement('li');
          const itemName = document.createElement('span');
          itemName.textContent = selectedItem.item.name;
          const itemQuantity = document.createElement('span');
          itemQuantity.textContent = `Quantity: ${selectedItem.quantity}`;
          const itemVolume = document.createElement('span');
          itemVolume.textContent = ` (${selectedItem.item.volume}m³)`;
          itemVolume.classList.add("summary_item_volume");
          
          const removeButton = createButton('x', () => removeItemFromSummary(selectedItem.item));
          removeButton.classList.add("remove_button");
          
        //   create div and put name and volume
            
            

            const name_wrapper = 
            document.createElement('div');
            name_wrapper.classList.add("name_wrapper");
            name_wrapper.appendChild(itemName);
            name_wrapper.appendChild(itemVolume);

            const name_quantuty_wrapper = 
            document.createElement('div');
            name_quantuty_wrapper.classList.add("name_quantuty_wrapper");
            name_quantuty_wrapper.appendChild(name_wrapper);
            name_quantuty_wrapper.appendChild(itemQuantity);

            const item_info_wrapper = 
            document.createElement('div');
            item_info_wrapper.classList.add("item_info_wrapper");
            item_info_wrapper.appendChild(name_quantuty_wrapper);
            item_info_wrapper.appendChild(removeButton);

          listItem.appendChild(item_info_wrapper);
    
          itemList.appendChild(listItem);
          
        });
        summaryContainer.appendChild(itemList);
        const totalVolume = calculateTotalVolume(selectedItems);
        const totalVolumeElement = document.createElement('h3');
        totalVolumeElement.textContent = `Total volume: ${totalVolume}m³`;
               totalVolumeElement.classList.add("summary_total_volume");
        summaryContainer.appendChild(totalVolumeElement);
  
      }
      console.log(requestData)
      
    }
  
  // remove item from sammary by name
  function removeItemFromSummary(item){
    selectedItems = selectedItems.filter((selectedItem) => selectedItem.item.id !== item.id);
    updateSummary();
    renderItems(getSelectedCategory());
  }
  
    

    
  
  function calculateTotalVolume(list) {
      let totalVolume = 0;
      for (let i = 0; i < list.length; i++) {
        totalVolume += list[i].item.volume * list[i].quantity;
      }
      // round number to 1 dicimal
      return Math.round(totalVolume * 10) / 10;
  
    }
  
  
  // clear selected list
  function clearSelected() {
    selectedItems = [];
    updateSummary();
    renderItems(getSelectedCategory());
  }
  
  var requestData = selectedItems.map(function(item) {
      return {
        itemName: item.item.name,
        quantity: item.quantity
      };
    });

 
  function preFillForm(event) {
    console.log(event.target.id);
    event.preventDefault();
    var requestData = selectedItems.map(function(item) {
      return {
        itemName: item.item.name,
        quantity: item.quantity
      };
    });

    const totalVolume = document.getElementById("totalVolume");
    totalVolume.value = getTotalVolume();

    const itemsList_2 = document.getElementById("ItemsList");
    for (let i = 0; i < requestData.length; i++) {
      itemsList_2.value += " " + requestData[i].quantity + " X " + requestData[i].itemName + " | ";
    }

    event.target.submit();
  }
  // quote test
  
  function getTotalVolume() {
    var totalVolume = 0;
    for (let i = 0; i < selectedItems.length; i++) {
      totalVolume += selectedItems[i].quantity * selectedItems[i].item.volume;
    }
  
    // Convert totalVolume to a string
    var totalVolumeString = totalVolume.toString();
  
    // Return the totalVolume as a string
    return totalVolumeString;
  }